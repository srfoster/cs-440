id: "m4-ac3-algorithm"
type: "short-answer"
chapter: 4
question: |
  **Enforce arc consistency using the AC-3 algorithm.**

  **Level 0** Discuss why forward checking isn't enough: it only looks one step ahead. What is arc consistency? Why is it more powerful than forward checking but still incomplete (doesn't solve the CSP)? When should you use AC-3: as preprocessing, during search, or both?

  **Level 1** Define arc consistency: for arc (X,Y), every value x in D_X must have some value y in D_Y that satisfies the constraint between X and Y. Describe AC-3: maintain queue of arcs, repeatedly call REVISE(X,Y) which removes unsupported values from D_X. When D_X changes, add all arcs (Z,X) back to queue. Give pseudocode for AC3(csp) and REVISE(csp, X, Y). Demonstrate by hand on a map-coloring problem.

  **Level 2** Implement AC-3 with REVISE for binary not-equal constraints (map coloring). Test as preprocessing before backtracking. Compare: backtracking alone vs. AC-3 + backtracking vs. maintaining arc consistency (MAC) during search.

  **Level 3** Prove AC-3 terminates (domains only shrink, finite values). Analyze time complexity: O(cd³) where c=number of constraints, d=domain size. In practice, often O(ed²) where e=edges. Discuss why AC-3 doesn't solve all CSPs (example: 3-coloring a triangle is arc-consistent but has no solution). Introduce stronger notions: path consistency, k-consistency, and the trade-off between preprocessing cost and search reduction.
answer: "AC-3 makes CSP arc-consistent: for every arc (X,Y), every value x in X's domain has some value y in Y's domain satisfying the constraint. Algorithm maintains queue of arcs, repeatedly calling REVISE(X,Y) which removes values from X's domain that have no supporting value in Y. When X's domain changes, add arcs (Z,X) back to queue. Returns false if any domain becomes empty."
topics:
  - "Arc Consistency"
  - "Constraint Propagation"
  - "AC-3"
vocab_answer:
  - word: "arc consistent"
    definition: "Property where every domain value has a compatible value in constrained neighbors"
  - word: "revise"
    definition: "To update a domain by removing unsupported values"
example_videos:
  - "https://www.youtube.com/watch?v=4cCS8rrYT14"
