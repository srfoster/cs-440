id: "m4-cutset-conditioning"
type: "short-answer"
chapter: 4
question: |
  Cutset conditioning is a technique for solving general CSPs by removing a small set of variables (a cutset) so that the remaining constraint graph becomes a tree. You then enumerate assignments to the cutset and solve the remaining tree-structured CSP efficiently for each case. This matters because it makes the key structural idea operational: if treewidth is small, hard problems become tractable in practice.
  
  **Task:** Write pseudocode for CUTSET_CONDITIONING(csp, cutsetVars) that enumerates cutset assignments, runs inference, and solves the remaining tree.
answer: |
  Cutset conditioning works by instantiating a set of variables (cutset) such that removing them makes the constraint graph a tree. Then solve the tree CSP for each cutset assignment.
  
  Pseudocode:
  ```
  function CUTSET_CONDITIONING(csp, cutsetVars):
      for cutAssign in ALL_ASSIGNMENTS(cutsetVars, csp.dom):
          csp2 = COPY_CSP(csp)
          if not APPLY_ASSIGNMENT(csp2, cutAssign): continue
          if not AC3(csp2): continue
          
          # assume removing cutset makes graph a tree
          root = any var not in cutsetVars
          sol = TREE_CSP_SOLVE(csp2, root)
          if sol != failure:
              return MERGE(sol, cutAssign)
      return failure
  ```
topics:
  - "Cutset Conditioning"
  - "CSP"
  - "Tree Decomposition"
example_videos:
  - "https://www.youtube.com/watch?v=hJ-6Ma1veUE"
