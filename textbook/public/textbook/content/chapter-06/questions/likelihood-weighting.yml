id: "m6-likelihood-weighting"
type: "short-answer"
chapter: 6
question: |
  Exact inference in Bayesian networks can be intractable for large networks, so we use approximate inference. Likelihood weighting is a sampling method that handles evidence by fixing evidence variables and weighting samples by how likely that evidence is under the sampled parent values. This matters because it introduces a practical and widely used idea: use randomness plus weighting to approximate probabilities when exact computation is too costly.
  
  **Task:** Write pseudocode for LIKELIHOOD_WEIGHTING(X, e, bn, N) and its weighted sampling helper.
answer: |
  Likelihood weighting is an approximate inference method that generates samples consistent with evidence by fixing observed variables and weighting samples by the probability of the evidence.
  
  Pseudocode:
  ```
  function LIKELIHOOD_WEIGHTING(X, e, bn, N):
      W = map(value -> 0)
      for i in 1..N:
          (sample, w) = WEIGHTED_SAMPLE(bn, e)
          W[sample[X]] += w
      return NORMALIZE(W)
  
  function WEIGHTED_SAMPLE(bn, e):
      w = 1
      sample = copy(e)
      for Y in bn.topoOrder:
          if Y in e:
              w *= P(Y=e[Y] | parents(Y)=sample[parents(Y)], bn)
          else:
              sample[Y] = SAMPLE_FROM(P(Y | parents(Y)=sample[parents(Y)], bn))
      return (sample, w)
  ```
topics:
  - "Likelihood Weighting"
  - "Approximate Inference"
  - "Bayesian Networks"
example_videos:
  - "https://www.youtube.com/watch?v=G-zirzQFWmk"
